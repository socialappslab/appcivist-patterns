!function(a,b,c){a.Campaign=function(a){this.initialize(a)},p=a.Campaign.prototype,p.constructor=a.Campaign,p.initialize=function(c){this.appEl=b.querySelector(c),null!=this.appEl&&(this.contextualMenu=new a.ContextualMenu(this.appEl.querySelector(".heading_actions")))}}(window.appcvui=window.appcvui||{},document,window),function(a,b,c,d){var e=d.helpers.addResizeListener;d.helpers.addResizeListener=function(a,b){d.defaults.global.responsive&&e(a,b)},d.defaults.global.responsive=!1,d.defaults.global.defaultFontFamily="Lato,sans-serif",d.defaults.global.legend.position="bottom",d.defaults.global.legend.fullWidth="true",d.defaults.global.elements.arc.borderWidth=3,d.defaults.global.elements.arc.borderColor="rgba(0,0,0,0.1)",a.ConsensusChart=function(a){this.initialize(a)},p=a.ConsensusChart.prototype,p.constructor=a.ConsensusChart,p.initialize=function(a){this.el=a,this.data=this.el.getAttribute("data-chart-data")},p.setData=function(a){this.data=a},p.renderChart=function(){var a=this.el.querySelector("canvas").getContext("2d"),b=JSON.parse(this.data);this.chart=new d(a,{type:"pie",data:b,options:{borderWidth:0,usePointStyle:!0,borderColor:"#000",bodyFontFamily:"Lato",legend:{boxWidth:80,display:!0,labels:{fontColor:"#fff"}}}})},p.redraw=function(){this.chart.render()}}(window.appcvui=window.appcvui||{},document,window,window.Chart),function(a,b,c,d){a.ConsensusWidget=function(a){this.initialize(a)},p=a.ConsensusWidget.prototype,p.constructor=a.ConsensusWidget,p.initialize=function(b){this.el=b;var c=this.el.querySelector(".consensus_result").innerHTML,d=new a.PopOver(this.el);d.setContent(c);var e=new a.ConsensusChart(d.popoverContent.querySelector(".chart"));e.renderChart(),d.setPosition(),d.beforeShow=e.redraw.bind(e)}}(window.appcvui=window.appcvui||{},document,window),function(a,b,c,d){a.ContextualMenu=function(a){this.initialize(a)},p=a.ContextualMenu.prototype,p.constructor=a.ContextualMenu,p.initialize=function(a){a&&(this.hideMenuTimeoutDuration=250,this.hideMenuTimeout=null,this.menuSelector=".contextual_menu",this.actuatorSelector=".action__contextual_menu",this.bodyClickEventListener=null,this.el=a,this.menu=this.el.querySelector(this.menuSelector),this.actuator=this.el.querySelector(this.actuatorSelector),this.actuator.addEventListener("mouseenter",function(a){c.clearTimeout(this.hideMenuTimeout),this.showContextualMenu()}.bind(this)),this.actuator.addEventListener("click",function(a){a.preventDefault(),this.showContextualMenu(!0)}.bind(this)),this.actuator.addEventListener("mouseleave",function(a){this.menu.classList.contains("stay")||this.initiateContextualMenuTimeout()}.bind(this)),this.menu.addEventListener("mouseenter",function(a){c.clearTimeout(this.hideMenuTimeout)}.bind(this)),this.menu.addEventListener("mouseleave",function(a){this.menu.classList.contains("stay")||this.initiateContextualMenuTimeout()}.bind(this)),this.menu.querySelector(".action__history").addEventListener("click",function(a){a.preventDefault(),d.open({unsafeContent:b.querySelector(".history-modal").innerHTML})}))},p.showContextualMenu=function(a){this.setPosition(),this.attachOnClikcOutside(),a&&(this.el.classList.add("reveal_actions"),this.actuator.classList.add("active"),this.menu.classList.add("stay")),c.clearTimeout(this.hideMenuTimeout),this.menu.classList.add("active")},p.hideContextualMenu=function(){b.body.removeEventListener("click",this.bodyClickEventListener),c.clearTimeout(this.hideMenuTimeout),this.menu.classList.remove("active")},p.initiateContextualMenuTimeout=function(){c.clearTimeout(this.hideMenuTimeout),this.hideMenuTimeout=setTimeout(this.hideContextualMenu.bind(this),this.hideMenuTimeoutDuration)},p.attachOnClikcOutside=function(){this.bodyClickEventListener=b.body.addEventListener("click",function(a){a.preventDefault(),this.closeIfClickOutside(a)}.bind(this))},p.setPosition=function(){this.menu.parentElement.getBoundingClientRect();this.menu.style.top="1em",this.menu.style.left="auto",this.menu.style.right=0},p.closeIfClickOutside=function(a){c.clearTimeout(this.hideMenuTimeout),this.menu.contains(a.target)||this.actuator.contains(a.target)||(this.el.classList.remove("reveal_actions"),this.actuator.classList.remove("active"),this.menu.classList.remove("stay"),this.hideContextualMenu())}}(window.appcvui=window.appcvui||{},document,window,window.vex),function(a,b,c){a.PaceLoading=function(a){return this.initialize(a),this},p=a.PaceLoading.prototype,p.constructor=a.PaceLoading,p.initialize=function(a){c.paceOptions={ajax:!1,document:!1,eventLag:!1,elements:{selectors:[a]}},this.el=a,this.paceOptions=c.paceOptions},p.start=function(a){vex.open({unsafeContent:this.el.querySelector(".modal-content").innerHTML}),Pace.start()},p.stop=function(a){Pace.stop()}}(window.appcvui=window.appcvui||{},document,window,window.vex),function(a,b){var c=a.appcvui||{};c.Navigation=function(a,b){this.initialize(a,b)},p=c.Navigation.prototype,p.constructor=c.Navigation,p.initialize=function(a,c){this.appEl=b.querySelector(a),null!=this.appEl&&(this.el=b.querySelector(c),null!=this.el&&(this.toggle=this.el.querySelector(".button__nav_toggle"),this.toggle.addEventListener("click",this.toggleNav.bind(this))))},p.toggleNav=function(a){this.appEl.classList.toggle("nav--active"),this.el.classList.toggle("nav--active")},a.appcvui=c}(window,document),function(a,b,c){a.PopOver=function(a){return this.initialize(a),this},p=a.PopOver.prototype,p.constructor=a.PopOver,p.initialize=function(a){this.hideTimeoutDuration=250,this.hideTimeout=null,this.bodyClickEventListener=null,this.el=a,this.popover=b.createElement("div"),this.popover.classList.add("popover"),this.popoverContent=b.createElement("div"),this.popoverContent.classList.add("content"),this.popover.appendChild(this.popoverContent),this.el.appendChild(this.popover),this.el.addEventListener("mouseenter",function(a){c.clearTimeout(this.hideTimeout),this.show()}.bind(this)),this.el.addEventListener("click",function(a){a.preventDefault(),this.show(!0)}.bind(this)),this.el.addEventListener("mouseleave",function(a){this.popover.classList.contains("stay")||this.initiateTimeout()}.bind(this)),this.popover.addEventListener("mouseenter",function(a){c.clearTimeout(this.hideTimeout)}.bind(this)),this.popover.addEventListener("mouseleave",function(a){this.popover.classList.contains("stay")||this.initiateTimeout()}.bind(this))},p.setContent=function(a){this.popoverContent.innerHTML=a},p.show=function(a){this.beforeShow&&this.beforeShow.call(),this.attachOnClikcOutside(),a&&(this.el.classList.add("active"),this.popover.classList.add("stay")),c.clearTimeout(this.hideTimeout),this.popover.classList.add("active"),this.setPosition()},p.hide=function(){b.body.removeEventListener("click",this.bodyClickEventListener),c.clearTimeout(this.hideTimeout),this.popover.classList.remove("active")},p.initiateTimeout=function(){c.clearTimeout(this.hideTimeout),this.hideTimeout=setTimeout(this.hide.bind(this),this.hideTimeoutDuration)},p.attachOnClikcOutside=function(){this.bodyClickEventListener=b.body.addEventListener("click",function(a){a.preventDefault(),this.closeIfClickOutside(a)}.bind(this))},p.setPosition=function(){var a=this.popover.offsetHeight+parseInt(getComputedStyle(this.popover).paddingTop)+parseInt(getComputedStyle(this.popover).paddingBottom)+parseInt(getComputedStyle(this.popover).marginTop)+parseInt(getComputedStyle(this.popover).marginBottom);this.popover.style.top=-1*(a+16)+"px"},p.closeIfClickOutside=function(a){c.clearTimeout(this.hideTimeout),this.popover.contains(a.target)||this.el.contains(a.target)||(this.el.classList.remove("reveal_actions"),this.el.classList.remove("active"),this.el.classList.remove("stay"),this.hide())}}(window.appcvui=window.appcvui||{},document,window,window.vex),function(a,b,c){a.Proposal=function(a){this.initialize(a)},p=a.Proposal.prototype,p.constructor=a.Proposal,p.initialize=function(c){this.appEl=b.querySelector(c),null!=this.appEl&&(this.contextualMenu=new a.ContextualMenu(this.appEl.querySelector(".heading_actions")),null!=this.appEl.querySelector(".page__header .temperature_check")&&(this.temperature_check=new a.TemperatureCheck(this.appEl.querySelector(".page__header .temperature_check"))),null!=this.appEl.querySelector(".page__header .consensus_widget")&&(this.temperature_check=new a.ConsensusWidget(this.appEl.querySelector(".page__header .consensus_widget"))))}}(window.appcvui=window.appcvui||{},document,window),function(a,b,c){a.ProposalsAndIdeas=function(a){this.themeWidget,this.initialize(a)},p=a.ProposalsAndIdeas.prototype,p.constructor=a.ProposalsAndIdeas,p.initialize=function(c){if(this.appEl=b.querySelector(c),null!=this.appEl){this.proposals=this.appEl.querySelectorAll(".card__proposal"),this.ideas=this.appEl.querySelectorAll(".card__idea"),this.showIdeasButton=this.appEl.querySelector(".proposals__show_ideas"),this.addProposalButton=this.appEl.querySelector(".proposals__add_new"),this.addIdeaButton=this.appEl.querySelector(".ideas__add_new"),this.tempChecks=this.appEl.querySelectorAll(".temperature_check"),this.consensusWidgets=this.appEl.querySelectorAll(".consensus_widget");var d=this;null!=b.querySelector(".campaign__filters .filters")&&(this.themeWidget=new a.ThemeWidget(".campaign__filters .filters")),null!=this.showIdeasButton&&this.showIdeasButton.addEventListener("click",function(a){a.preventDefault(),d.showIdeas(d),"Hide Ideas"==d.showIdeasButton.querySelector(".nav-label").textContent?(d.hideIdeas(d),d.showIdeasButton.querySelector(".nav-label").textContent="Show Ideas"):(d.showIdeasButton.querySelector(".nav-label").textContent="Hide Ideas",d.showIdeas(d))}),null!=this.addProposalButton&&this.addProposalButton.addEventListener("click",function(a){a.preventDefault(),d.addProposal(d)}),null!=this.addIdeaButton&&this.addIdeaButton.addEventListener("click",function(a){a.preventDefault(),d.addIdea(d)}),null!=this.proposals&&a.forEach(this.proposals,this.initializeContextualMenu,this),null!=this.ideas&&a.forEach(this.ideas,this.initializeContextualMenu,this),null!=this.tempChecks&&a.forEach(this.tempChecks,this.initializeTemperatureCheck,this),null!=this.consensusWidgets&&a.forEach(this.consensusWidgets,this.initializeConsensusWidget,this),b.addEventListener("resize",this.onResize),b.addEventListener("eqResize",function(){this.onResize()}.bind(this))}},p.onResize=function(){null!=b.querySelector(".container__proposals")&&(a.equalHeights(".container__proposals .heading__working_group"),a.equalHeights(".container__proposals .heading--headline"),a.equalHeights(".container__proposals .title_block"),a.equalHeights(".container__proposals .card__header"),a.equalHeights(".container__proposals .card__body .excerpt"),a.equalHeights(".container__proposals .card__body")),null!=b.querySelector(".container__ideas")&&(a.equalHeights(".container__ideas .card__header .heading--headline"),a.equalHeights(".container__ideas .card__header"))},p.showIdeas=function(a){a.appEl.querySelector(".campaign_cards").classList.add("show-ideas"),a.showIdeasTimeout=c.setTimeout(function(){console.log("SHOW RESIZE"),clearTimeout(a.showIdeasTimeout),a.onResize()},320)},p.hideIdeas=function(a){console.log("HIDE RESIZE"),a.appEl.querySelector(".campaign_cards").classList.remove("show-ideas"),a.showIdeasTimeout=c.setTimeout(function(){clearTimeout(a.showIdeasTimeout),a.onResize()},320)},p.addProposal=function(a){vex.open({unsafeContent:a.appEl.querySelector(".form__add_proposal").innerHTML})},p.addIdea=function(a){vex.open({unsafeContent:a.appEl.querySelector(".form__add_idea").innerHTML})},p.initializeContextualMenu=function(b,c){new a.ContextualMenu(c.querySelector(".card__heading_actions"))},p.initializeTemperatureCheck=function(b,c){new a.TemperatureCheck(c)},p.initializeConsensusWidget=function(b,c){new a.ConsensusWidget(c)}}(window.appcvui=window.appcvui||{},document,window),function(a,b,c,d){a.TemperatureCheck=function(a){this.initialize(a)},p=a.TemperatureCheck.prototype,p.constructor=a.TemperatureCheck,p.initialize=function(b){this.el=b,this.thumbsUp=this.el.querySelector(".upvote"),this.thumbsDown=this.el.querySelector(".downvote");var c=new a.PopOver(this.thumbsUp);c.setContent(this.thumbsUp.getAttribute("data-votecount")),c.setPosition();var d=new a.PopOver(this.thumbsDown);d.setContent(this.thumbsDown.getAttribute("data-votecount")),d.setPosition()}}(window.appcvui=window.appcvui||{},document,window),function(a,b,c,d){a.ThemeWidget=function(a){this.initialize(a)},p=a.ThemeWidget.prototype,p.constructor=a.ThemeWidget,p.initialize=function(a,c){this.el=b.querySelector(a),this.content=this.el.querySelector("content"),this.addFilterButton=this.el.querySelector(".button__add_filter"),this.addFilterButton.addEventListener("click",this.showAvailableThemes.bind(this))},p.showAvailableThemes=function(){d.open({unsafeContent:this.el.querySelector(".modal-content").innerHTML})}}(window.appcvui=window.appcvui||{},document,window,window.vex),function(a,b){var c=a.appcvui||{};c.equalHeights=function(a){var c,d,e,f=b.querySelectorAll(a),g=f.length,h=0;for(e=0;e<g;e++)c=f[e],d=c.offsetHeight,h=d>h?d:h;for(e=0;e<g;e++)f[e].style.height=h+"px"},c.forEach=function(a,b,c){for(var d=0;d<a.length;d++)b.call(c,d,a[d])},c.closest=function(a,b){for(var c=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.msMatchesSelector;a&&!c.call(a,b);)a=a.parentElement;return a},c.initialize=function(){vex.defaultOptions.className="vex-theme-plain",c.navigation=new c.Navigation(".appcivist","#appcivist__nav"),c.paceLoader=new c.PaceLoading(".appcivist"),Pace.stop(),null!=b.querySelector(".proposals_and_ideas")?c.proposalsAndIdeas=new c.ProposalsAndIdeas(".proposals_and_ideas"):null!=b.querySelector(".proposals__only")&&(c.proposals=new c.ProposalsAndIdeas(".proposals__only")),null!=b.querySelector(".campaign")&&(c.campaign=new c.Campaign(".campaign")),null!=b.querySelector(".working_group")&&(c.working_group=new c.WorkingGroup(".working_group")),null!=b.querySelector(".proposal__single")&&(c.proposal=new c.Proposal(".proposal__single"))},a.appcvui=c}(window,document),function(a,b,c){a.WorkingGroup=function(a){this.initialize(a)},p=a.WorkingGroup.prototype,p.constructor=a.WorkingGroup,p.initialize=function(c){this.appEl=b.querySelector(c),null!=this.appEl&&(this.contextualMenu=new a.ContextualMenu(this.appEl.querySelector(".heading_actions")))}}(window.appcvui=window.appcvui||{},document,window);